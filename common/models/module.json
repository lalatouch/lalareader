{
	"name": "Module",
	"base": "PersistedModel",
	"remoting": {"normalizeHttpPath": true},
	"idInjection": true,
	"options": {"validateUpsert": true},
	"properties": {
		"identifier": "string",
		"ip": "string",
		"isDown": {
			"type": "boolean",
			"default": false
		}
	},
	"relations": {
		"tags": {
			"type": "hasAndBelongsToMany",
			"model": "Tag",
			"through": "TagLink",
			"polymorphic": "taggable"
		}
	},
	"methods": {
		"register": {
			"accepts": [
				{ "arg": "req", "type": "object", "http": {"source": "req"} },
				{ "arg": "identifier", "type": "string" }
			],
			"returns": { "type": "Module", "root": true}
		},
		"prototype.playlist": {
			"returns": {"type": "Playlist", "root": true},
			"http": {"verb": "get"}
		},
		"prototype.put": {
			"accepts": [
				{"arg": "status", "type": "string", "http": {"source": "path"}, "required": true, "description": "up|down"}
			],
			"http": {"verb": "post", "path": "/put/:status"}
		},
		"put": {
			"accepts": [
				{"arg": "req", "type": "object", "http": {"source": "req"}},
				{"arg": "status", "type": "string", "http": {"source": "path"}, "required": true, "description": "up|down"}
			],
			"http": {"verb": "post", "path": "/put/:status"}
		}
	}
}
